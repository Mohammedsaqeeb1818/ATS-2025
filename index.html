<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find the Fake</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .container {
            max-width: 900px;
        }
        .gradient-bg {
            background-image: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .btn {
            transition: all 0.3s ease;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .card {
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            background-color: white;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen py-10 px-4">

<div class="container mx-auto p-6 lg:p-12 card rounded-3xl">
    <div class="text-center mb-8">
        <h1 class="text-3xl lg:text-5xl font-extrabold text-gray-900 mb-2">Find the Fake</h1>
        <p class="text-gray-500 text-lg">Check if your text was AI-generated or human-written.</p>
    </div>

    <div class="mb-8">
        <textarea id="inputText" class="w-full h-48 p-4 text-gray-700 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all" placeholder="Paste your text, review, or post here..."></textarea>
    </div>

    <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4 mb-8">
        <button id="checkBtn" class="btn gradient-bg text-white font-semibold py-3 px-8 rounded-full text-lg shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
            Check Text
        </button>
        <button id="clearBtn" class="btn bg-white text-gray-700 font-semibold py-3 px-8 rounded-full text-lg border border-gray-300 shadow-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2">
            Clear
        </button>
    </div>

    <div id="loadingIndicator" class="hidden text-center text-gray-500 mb-4">
        <svg class="animate-spin h-6 w-6 text-indigo-500 inline-block mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        Analyzing text with multiple models...
    </div>

    <div id="results" class="hidden">
        <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">Analysis Results</h2>

        <div id="finalVerdict" class="p-6 rounded-2xl text-center mb-6">
            <p class="text-3xl font-bold" id="verdictText"></p>
            <p class="text-lg text-gray-600 mt-2" id="verdictSubtext"></p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Individual model results will be rendered here -->
        </div>

    </div>

    <div id="infoMessage" class="hidden p-4 bg-yellow-100 text-yellow-800 rounded-lg shadow-inner">
        <p>Please enter some text to begin the analysis.</p>
    </div>

</div>

<script>
    const inputText = document.getElementById('inputText');
    const checkBtn = document.getElementById('checkBtn');
    const clearBtn = document.getElementById('clearBtn');
    const resultsDiv = document.getElementById('results');
    const loadingIndicator = document.getElementById('loadingIndicator');
    const verdictText = document.getElementById('verdictText');
    const verdictSubtext = document.getElementById('verdictSubtext');
    const finalVerdictDiv = document.getElementById('finalVerdict');
    const infoMessage = document.getElementById('infoMessage');
    const modelsContainer = document.querySelector('#results > div.grid');

    // Simulates an API call to an AI detection model with a random confidence score
    const simulateModelCheck = (modelName, minConfidence, maxConfidence) => {
        return new Promise(resolve => {
            setTimeout(() => {
                // Generates a random score for demonstration
                const score = Math.random() * (maxConfidence - minConfidence) + minConfidence;
                resolve({ model: modelName, score: score });
            }, 1000); // Simulate network delay
        });
    };

    // Displays the individual model scores
    const renderModelScores = (scores) => {
        modelsContainer.innerHTML = ''; // Clear previous results
        scores.forEach(result => {
            const isAi = result.score > 50;
            const cardColor = isAi ? 'bg-indigo-50 border-indigo-200' : 'bg-green-50 border-green-200';
            const textColor = isAi ? 'text-indigo-600' : 'text-green-600';
            const statusText = isAi ? 'Likely AI' : 'Likely Human';

            const scoreCard = `
                <div class="p-4 border-2 ${cardColor} rounded-xl text-center">
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">${result.model}</h3>
                    <p class="text-4xl font-extrabold ${textColor}">${result.score.toFixed(1)}%</p>
                    <p class="text-sm text-gray-500 mt-1">${statusText}</p>
                </div>
            `;
            modelsContainer.innerHTML += scoreCard;
        });
    };

    // Determines the final verdict based on the average score
    const getVerdict = (averageScore) => {
        if (averageScore > 80) {
            finalVerdictDiv.className = 'p-6 rounded-2xl text-center mb-6 bg-red-100 border-red-200 border-2';
            verdictText.className = 'text-3xl font-bold text-red-600';
            verdictText.textContent = 'Likely AI-Generated';
            verdictSubtext.textContent = 'The majority of models confidently flagged this text as AI-written.';
        } else if (averageScore > 50) {
            finalVerdictDiv.className = 'p-6 rounded-2xl text-center mb-6 bg-yellow-100 border-yellow-200 border-2';
            verdictText.className = 'text-3xl font-bold text-yellow-600';
            verdictText.textContent = 'Uncertain';
            verdictSubtext.textContent = 'The models have conflicting or low-confidence results. Further review is recommended.';
        } else {
            finalVerdictDiv.className = 'p-6 rounded-2xl text-center mb-6 bg-green-100 border-green-200 border-2';
            verdictText.className = 'text-3xl font-bold text-green-600';
            verdictText.textContent = 'Likely Human-Written';
            verdictSubtext.textContent = 'The models indicate a high probability that this text was written by a human.';
        }
    };

    checkBtn.addEventListener('click', async () => {
        const text = inputText.value.trim();
        if (text === '') {
            infoMessage.classList.remove('hidden');
            resultsDiv.classList.add('hidden');
            return;
        }

        infoMessage.classList.add('hidden');
        resultsDiv.classList.add('hidden');
        loadingIndicator.classList.remove('hidden');
        checkBtn.disabled = true;

        // Simulate a simple ensemble of three different models
        const models = [
            // Model A is slightly more likely to flag AI content
            simulateModelCheck('Model A (Perplexity)', 
                text.length > 50 ? 50 : 10, // Higher confidence for longer texts
                text.length > 50 ? 95 : 60), 
            // Model B is a bit more conservative
            simulateModelCheck('Model B (Burstiness)', 
                text.length > 50 ? 40 : 5, 
                text.length > 50 ? 85 : 50),
            // Model C is a general-purpose detector
            simulateModelCheck('Model C (General)', 
                text.length > 50 ? 60 : 20, 
                text.length > 50 ? 99 : 70) 
        ];

        try {
            const allResults = await Promise.all(models);
            
            const totalScore = allResults.reduce((sum, result) => sum + result.score, 0);
            const averageScore = totalScore / allResults.length;

            loadingIndicator.classList.add('hidden');
            resultsDiv.classList.remove('hidden');
            
            getVerdict(averageScore);
            renderModelScores(allResults);

        } catch (error) {
            console.error('Failed to get results:', error);
            loadingIndicator.classList.add('hidden');
            verdictText.textContent = 'Error';
            verdictSubtext.textContent = 'Failed to analyze text. Please try again.';
            resultsDiv.classList.remove('hidden');
        } finally {
            checkBtn.disabled = false;
        }
    });

    clearBtn.addEventListener('click', () => {
        inputText.value = '';
        resultsDiv.classList.add('hidden');
        infoMessage.classList.add('hidden');
    });

</script>

</body>
</html>